# 设置一次，每天自动执行：OpenClaw Cron 任务指南

> 本文由 OpenClaw AI 助手协助整理

【快速导航】
- 本文适合：想要自动化日常任务的用户
- 预计阅读：8 分钟
- 难度等级：⭐⭐⭐

---

## 😫 你是不是也这样？

每天早上 9 点，你要：
- 打开浏览器查看今天的热门新闻
- 在群里发一条"早上好"的问候
- 检查一下昨晚的 GitHub 仓库有没有新的 Issue
- 给团队发送今日的工作提醒

**重复，重复，再重复。**

如果这些任务能自动完成，你能省下多少时间？

今天教你用 **OpenClaw 的 Cron 功能**，让 AI 助手变成你的"自动化管家"——设置一次，每天自动执行。

---

## 🎯 最终效果展示

配置完成后，你的 AI 助手会：

✅ **每天早上 9 点**，自动在 Discord/微信群发送今日待办事项  
✅ **每小时检查一次**，监控网站是否在线  
✅ **每周一上午**，汇总上周的工作报告并发送给你  
✅ **每天下午 6 点**，提醒你准时下班（这个最重要！😉）

而且，完全免费，不需要额外服务器，OpenClaw 帮你托管。

---

## 💡 什么是 Cron？

**Cron** 是一个定时任务调度器，名字来源于希腊语"时间"（Chronos）。

简单来说：
- 你想让电脑在 **特定时间** 做 **特定事情**
- 告诉 Cron：**什么时候** + **做什么**
- Cron 会准时执行，不需要你操心

OpenClaw 内置了 Cron 功能，让你可以轻松创建定时任务。

---

## 🚀 实战：创建你的第一个定时任务

### 场景 1：每天早上自动发送待办提醒

假设你想每天早上 9 点，让 AI 助手给你发送一条消息，提醒你今天的重点工作。

#### 步骤 1️⃣：打开终端

在你的电脑上打开终端（Terminal）。

#### 步骤 2️⃣：使用 `openclaw cron` 命令创建任务

输入以下命令：

```bash
openclaw cron add --name "daily-reminder" \
  --schedule "0 9 * * *" \
  --message "早上好！今天的重点工作是：1. 完成项目文档 2. 回复客户邮件 3. 下午3点开会" \
  --target "your-discord-channel-id"
```

💡 **参数解释：**
- `--name`: 任务名称，方便管理
- `--schedule`: 定时规则（后面详细解释）
- `--message`: 要发送的消息内容
- `--target`: 目标频道/聊天（Discord 频道 ID、Telegram 聊天 ID 等）

#### 步骤 3️⃣：确认任务创建成功

运行以下命令查看所有任务：

```bash
openclaw cron list
```

你应该能看到：

```
ID           NAME            SCHEDULE      STATUS    NEXT RUN
-----------  --------------  ------------  --------  ------------------
abc123       daily-reminder  0 9 * * *     enabled   2026-02-08 09:00:00
```

🎉 **完成！** 明天早上 9 点，你就会收到第一条自动提醒。

---

### 场景 2：定时查询并发送 GitHub 热门项目

如果你想每天早上收到一条 GitHub 热门项目的推荐，可以这样设置：

```bash
openclaw cron add --name "github-daily" \
  --schedule "0 10 * * *" \
  --agent-task "搜索 GitHub 上今天最热门的 AI 项目，选择 3 个最有价值的，用中文发送推荐理由" \
  --target "your-discord-channel-id"
```

这次我们用了 `--agent-task` 参数，让 AI 助手不只是发送固定消息，而是**执行一个智能任务**。

---

### 场景 3：定时备份重要数据

每周日凌晨 3 点，自动备份 OpenClaw 的所有配置：

```bash
openclaw cron add --name "weekly-backup" \
  --schedule "0 3 * * 0" \
  --command "openclaw backup" \
  --target "your-private-channel"
```

---

## 📅 Cron 表达式详解

上面用到的 `"0 9 * * *"` 就是 **Cron 表达式**，用来定义执行时间。

### 格式说明

```
┌───────────── 分钟 (0 - 59)
│ ┌───────────── 小时 (0 - 23)
│ │ ┌───────────── 日期 (1 - 31)
│ │ │ ┌───────────── 月份 (1 - 12)
│ │ │ │ ┌───────────── 星期 (0 - 6, 0 = 周日)
│ │ │ │ │
│ │ │ │ │
* * * * *
```

### 常用示例

| 表达式 | 含义 | 使用场景 |
|--------|------|----------|
| `0 9 * * *` | 每天上午 9:00 | 每日待办提醒 |
| `0 */2 * * *` | 每 2 小时一次 | 定时检查 |
| `0 9,18 * * *` | 每天 9:00 和 18:00 | 上下班提醒 |
| `0 9 * * 1` | 每周一上午 9:00 | 周会提醒 |
| `0 0 1 * *` | 每月 1 日凌晨 | 月度报告 |
| `*/5 * * * *` | 每 5 分钟 | 高频监控 |

### 🛠️ 推荐工具

记不住 Cron 表达式？用这个在线工具：
- 🔗 **CronTab Guru**: <https://crontab.guru>

输入中文描述，自动生成表达式！

---

## 🎨 高级玩法

### 1. 条件触发任务

只在工作日（周一到周五）发送提醒：

```bash
openclaw cron add --name "workday-reminder" \
  --schedule "0 9 * * 1-5" \
  --message "工作日提醒：别忘了打卡！"
```

### 2. 间隔执行任务

每 30 分钟检查一次网站状态：

```bash
openclaw cron add --name "website-monitor" \
  --schedule "*/30 * * * *" \
  --agent-task "检查 https://example.com 是否可访问，如果不可访问立即通知我"
```

### 3. 一次性提醒

明天下午 2 点提醒自己开会：

```bash
openclaw cron add --name "meeting-reminder" \
  --at "2026-02-08 14:00:00" \
  --message "⏰ 提醒：下午 2 点项目评审会议"
```

### 4. 使用 Agent 执行复杂任务

让 AI 助手每天自动查询天气并发送穿衣建议：

```bash
openclaw cron add --name "weather-advice" \
  --schedule "0 8 * * *" \
  --agent-task "查询今天的天气，根据温度给出穿衣建议，用轻松幽默的语气发送" \
  --target "your-telegram-chat-id"
```

---

## 🔧 任务管理命令

### 查看所有任务

```bash
openclaw cron list
```

输出示例：

```
ID           NAME             SCHEDULE      STATUS    NEXT RUN
-----------  ---------------  ------------  --------  ------------------
abc123       daily-reminder   0 9 * * *     enabled   2026-02-08 09:00:00
def456       github-daily     0 10 * * *    enabled   2026-02-08 10:00:00
ghi789       weekly-backup    0 3 * * 0     disabled  -
```

### 暂停/启用任务

暂停任务：

```bash
openclaw cron pause daily-reminder
```

重新启用：

```bash
openclaw cron resume daily-reminder
```

### 删除任务

```bash
openclaw cron remove daily-reminder
```

### 立即执行一次

测试任务是否能正常工作：

```bash
openclaw cron run daily-reminder
```

### 查看执行历史

```bash
openclaw cron history daily-reminder
```

---

## ❓ 常见问题

### Q1: 任务没有按时执行怎么办？

**检查清单：**
1. ✅ 确认 OpenClaw Gateway 正在运行：`openclaw status`
2. ✅ 检查任务状态是否为 `enabled`：`openclaw cron list`
3. ✅ 确认 Cron 表达式是否正确，可用 <https://crontab.guru> 验证
4. ✅ 检查时区设置是否正确（OpenClaw 默认使用系统时区）

### Q2: 如何设置多个提醒时间？

可以用逗号分隔多个时间点：

```bash
--schedule "0 9,14,18 * * *"  # 每天 9点、14点、18点
```

### Q3: 任务执行失败了会通知我吗？

会的！OpenClaw 默认会在任务执行失败时发送通知到创建者。

你也可以设置自定义错误处理：

```bash
openclaw cron add --name "important-task" \
  --schedule "0 9 * * *" \
  --command "critical-command" \
  --on-error "notify @admin"
```

### Q4: 可以创建多少定时任务？

OpenClaw 没有硬性限制，但建议：
- 简单任务（发送消息）：最多 50 个
- 复杂 Agent 任务：最多 20 个（避免资源占用过高）

### Q5: 如何查看任务的详细日志？

```bash
openclaw cron logs daily-reminder --last 50
```

查看最近 50 条执行日志。

---

## 🎁 实战案例：我的自动化工作流

最后分享我自己用 OpenClaw Cron 搭建的自动化工作流，供你参考：

### 早晨系列（8:00 - 10:00）
- **8:00** - 天气 + 穿衣建议
- **8:30** - 今日日历概览（自动读取日历 API）
- **9:00** - GitHub 热门项目推荐
- **9:30** - 今日待办清单

### 工作系列（10:00 - 18:00）
- **每小时整点** - 喝水提醒（健康很重要！）
- **12:00** - 午饭提醒 + 餐厅推荐
- **14:00** - 下午工作启动提醒
- **17:30** - 今日工作总结提示
- **18:00** - 下班提醒（准时下班！）

### 晚间系列（20:00 - 23:00）
- **20:00** - 学习/阅读时间提醒
- **22:30** - 准备休息提醒
- **23:00** - 设备充电提醒

### 每周系列
- **周一 9:00** - 周会提醒 + 上周工作总结
- **周五 17:00** - 周报提交提醒
- **周日 22:00** - 下周计划提示

**效果：** 自从设置这些定时任务后，我再也不用靠闹钟和便签纸了。AI 助手就像一个贴心的助理，在合适的时间提醒我合适的事情。

---

## 📝 总结

今天学会了：

✅ **什么是 Cron** - 定时任务调度器  
✅ **基本用法** - 使用 `openclaw cron add` 创建任务  
✅ **Cron 表达式** - 定义执行时间的语法  
✅ **高级玩法** - 条件触发、Agent 任务、一次性提醒  
✅ **任务管理** - 查看、暂停、删除、测试任务  
✅ **实战案例** - 搭建自动化工作流

---

## 🚀 立即行动

现在就去创建你的第一个定时任务吧！

**建议从简单的开始：**

```bash
openclaw cron add --name "my-first-cron" \
  --schedule "0 9 * * *" \
  --message "🎉 恭喜！你的第一个定时任务成功了！"
```

设置好后，明天早上 9 点，你就能看到效果。

---

## 💬 互动时间

**你最想用定时任务实现什么功能？**

- A. 每天自动发送工作报告
- B. 定时监控网站/服务状态
- C. 定时提醒喝水/休息
- D. 其他（评论区分享）

有任何问题，欢迎在评论区留言，我会一一回复！

---

## 🔮 下期预告

明天（Day 14）我们将学习 **《一个主脑，多个分身：OpenClaw 会话管理技巧》**，教你如何同时管理多个 AI 会话，让复杂任务并行处理，效率翻倍。

明天见 👋

---

**延伸阅读：**
- OpenClaw 官方文档: <https://docs.openclaw.ai>
- Cron 表达式在线工具: <https://crontab.guru>
- 本文代码示例仓库: [GitHub 链接]

---

*最后更新：2026-02-07*  
*系列文章第 13 天*
